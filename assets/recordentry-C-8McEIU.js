import{d as I,u as C,r,f as B,c as v,o as b,a as e,w as c,h as s,b as N,j as y,F as S,k as V,t as l,m as x,e as D,l as M,g as $,_ as w}from"./index-DuEUCvy9.js";const T={class:"folio"},U={class:"multiselect"},A=["value"],F={style:{color:"green"}},R=I({__name:"recordentry",setup(j){const i=C(),m=r(""),d=r(""),f=r([]),a=r({accId:80168,phase:0});B(async()=>{f.value=JSON.parse(localStorage.getItem("vault2accountlist")||"[]")});async function g(p){let t="stock";a.value.accId>80219&&(t="crypto");let u=t;const o=a.value.accId,k=a.value.phase;p==="cacheRecord"&&(u="cacheChk");const n=await $("/vault/getrecord",{type:p,tab:u,aId:o,phase:k});i.dateoftable=[],console.log(n),n.message&&(m.value=n.message),console.log(t,a.value),n.message&&n.message=="dataAvailable"?(console.log(n.data),i.dateoftable=n.data,d.value="数据已缓存"):d.value=n.message}return(p,t)=>{const u=D("g-table");return b(),v("div",T,[t[19]||(t[19]=e("h4",null,"录入交易记录",-1)),e("div",U,[c(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.accId=o)},[(b(!0),v(S,null,V(f.value,o=>(b(),v("option",{key:o.acc_no,value:o.acc_no},l(o.name),9,A))),128))],512),[[y,a.value.accId]]),t[7]||(t[7]=s("         ")),e("button",{class:"btn btn-outline-secondary btn-sm",type:"button",onClick:t[1]||(t[1]=o=>g("scratchData"))},"获取解析记录"),t[8]||(t[8]=s()),t[9]||(t[9]=e("br",null,null,-1)),t[10]||(t[10]=e("br",null,null,-1)),t[11]||(t[11]=e("br",null,null,-1)),c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.phase=o)},t[6]||(t[6]=[x('<option value="0" data-v-4ca9bf50>初始位置</option><option value="5" data-v-4ca9bf50>第五位置</option><option value="10" data-v-4ca9bf50>第十位置</option><option value="25" data-v-4ca9bf50>第25位置</option><option value="-3" data-v-4ca9bf50>第一阶段抓取</option><option value="-5" data-v-4ca9bf50>删除dataBase记录</option><option value="-2" data-v-4ca9bf50>fetch data from API</option><option value="-1" data-v-4ca9bf50>存入dataBase</option>',8)]),512),[[y,a.value.phase]]),t[12]||(t[12]=s("    ")),e("button",{class:"btn btn-secondary btn-sm ms-auto",type:"button",onClick:t[3]||(t[3]=o=>a.value.phase++)},"加"),t[13]||(t[13]=s("    ")),e("button",{class:"btn btn-secondary btn-sm ms-auto",type:"button",onClick:t[4]||(t[4]=o=>a.value.phase--)},"减"),t[14]||(t[14]=s("       ")),e("button",{class:"btn btn-outline-secondary btn-sm",type:"button",onClick:t[5]||(t[5]=o=>g("cacheRecord"))},"展示记录"),t[15]||(t[15]=e("br",null,null,-1)),t[16]||(t[16]=e("br",null,null,-1)),e("span",null,"位置： "+l(a.value.phase),1),t[17]||(t[17]=e("br",null,null,-1)),t[18]||(t[18]=s()),e("span",F,l(m.value),1),e("h5",null,"progressMsg: "+l(d.value),1),N(u,{caption:"近期交易数据",formatNumeric:["price","quantity","amount"]}),e("h5",null,"Base Date: "+l(M(i).basesetting.date1),1)])])}}}),E=w(R,[["__scopeId","data-v-4ca9bf50"]]);export{E as default};
